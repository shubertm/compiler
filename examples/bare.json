{
  "contractName": "BareVTXO",
  "constructorInputs": [
    {
      "name": "user",
      "type": "pubkey"
    },
    {
      "name": "server",
      "type": "pubkey"
    }
  ],
  "functions": [
    {
      "name": "spend",
      "functionInputs": [
        {
          "name": "userSig",
          "type": "signature"
        }
      ],
      "serverVariant": true,
      "require": [
        {
          "type": "serverSignature"
        }
      ],
      "asm": [
        "<SERVER_KEY>",
        "<serverSig>",
        "OP_CHECKSIG"
      ]
    },
    {
      "name": "spend",
      "functionInputs": [
        {
          "name": "userSig",
          "type": "signature"
        }
      ],
      "serverVariant": false,
      "require": [
        {
          "type": "older",
          "message": "Exit timelock of 144 blocks"
        }
      ],
      "asm": [
        "144",
        "OP_CHECKLOCKTIMEVERIFY",
        "OP_DROP"
      ]
    }
  ],
  "source": "// Contract configuration options\noptions {\n  // Server key parameter from contract parameters\n  server = server;\n  \n  // Renewal timelock: 7 days (1008 blocks)\n  // The contract must be renewed with the Ark server within this period\n  renew = 1008;\n  \n  // Exit timelock: 24 hours (144 blocks)\n  // Time required to exit unilaterally without server involvement\n  exit = 144;\n}\n\ncontract BareVTXO(\n  pubkey user,\n  pubkey server\n) {\n  // Single signature spend path\n  // This will automatically be compiled into:\n  // 1. Cooperative path: checkSig(user) && checkSig(server)\n  // 2. Exit path: checkSig(user) && after 144 blocks\n  function spend(signature userSig) {\n    require(checkSig(userSig, user));\n  }\n} ",
  "compiler": {
    "name": "taplang",
    "version": "0.1.0"
  },
  "updatedAt": "2025-03-06T00:17:21.476113+00:00"
}